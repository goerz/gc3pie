========================================================================
    INSTALLATION OF `grundb`
========================================================================

:Author:   Riccardo Murri <riccardo.murri@gmail.com>
:Date:     2010-07-21
:Revision: $Revision$


.. This file follows reStructuredText markup syntax; see
   http://docutils.sf.net/rst.html for more information


Installation
============

These instructions show how to install the ``ggamess`` and ``grundb``
scripts from the GC3 svn repository into their own python environment.

0. Prerequisites are: ``svn`` (package ``subversion`` in CentOS5 and
   Debian/Ubuntu), the Python development headers and libraries (package
   ``python-devel`` in CentOS5, ``python-dev`` in Debian/Ubuntu).
   These should be available in any decent Linux distribution.


1. If it's not already installed, get the `virtualenv` Python package
   and install it::

      wget http://bitbucket.org/ianb/virtualenv/get/tip.gz#egg=virtualenv-tip
      tar -xzf tip.tar.gz && rm tip.tar.gz 
      cd virtualenv/
 
    If you are installing as `root`, the following command is all you
    need:

      python setup.py install

    If instead you are installing as a normal, unprivileged user,
    things get more complicated:

      export PYTHONPATH=$HOME/lib/python:$PYTHONPATH
      export PATH=$PATH:$HOME/bin
      mkdir -p $HOME/lib/python
      python setup.py install --home $HOME

    (You will also need to add the two `export` lines above to the
    `$HOME/.bashrc` file -if using the `bash` shell- or to the
    `$HOME/.cshrc` file -if using the `tcsh` shell.)

    In any case, once `virtualenv` has been installed, you can exit
    its directory and remove it:
   
      cd ..
      rm -rf virtualenv


2. Create a virtual env to host the ``ggamess`` and ``grundb``
   installation::

       virtualenv ggamess
       cd ggamess/
       source bin/activate


3. Check-out the ``gc3pie`` sources into a `src/` directory::
     
       svn co http://gc3pie.googlecode.com/svn/trunk/gc3pie src
   
  
4. Install ``gc3pie`` in "develop" mode, so any modification pulled
   from subversion is immediately reflected in the running
   environment::

       cd src/
       env CC=gcc ./setup.py develop 


5. Create a symlink to the ``gamess`` and ``grundb`` scripts in the
   ``bin/`` directory::

       cd .. # back into the `ggamess` directory
       ln -s `pwd`/src/gc3apps/gamess/ggamess.py bin/ggamess
       ln -s `pwd`/src/gc3apps/gamess/grundb.py bin/grundb


6. Copy the `grundb/grundb.inp.template` file into the `~/.gc3`
   directory::

       mkdir -p ~/.gc3
       cp -a src/gc3apps/gamess/grundb.inp.template ~/.gc3/


7. Be sure to set-up your GC3Utils configuration file correctly!
   See http://code.google.com/p/gc3pie/wiki/ConfigurationFile
   for instructions.

   
Upgrade
=======

These instructions show how to upgrade the scripts to the latest
version found in the GC3 svn repository.

1. `cd` to the directory containing the `ggamess` virtualenv;
   assuming it's named ``ggamess`` as in the above installation
   instructions, you can issue the commands::

     cd ggamess/src

2. Upgrade the `gc3pie` source and run the `setup.py` script again:

     svn up
     env CC=gcc ./setup.py develop



.. (for Emacs only)
..
  Local variables:
  mode: rst
  End:
